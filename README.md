# comp_club_handler

## Overview
This program allows you to handle events in computer club

## Building and installation
1. Create a build directory
`mkdir build && cd build`
2. Configure with CMake
`cmake ..`
3. Build
`make`

## Using
Input file must meet following format
```
<Number of desks in club>
<Opening time> <Closing time>
<Price of hour in club>
```

Then following income events in format<br>
`<Time of event> <Event ID> <Event body>`

If any line does not meet format, this line will be printed and program will stop

Income events:
| ID | Description         | Format                                     |
| -- | ------------------- | ------------------------------------------ |
|  1 | Client came to club | \<Time\> 1 \<Client name\>                 |
|  2 | Client sat to desk  | \<Time\> 2 \<Client name\> \<Desk number\> |
|  3 | Client waiting      | \<Time\> 3 \<Client name\>                 |
|  4 | Client left         | \<Time\> 4 \<Client name\>                 |

Outcome events are events that generated by program<br>
Outcome events:
| ID | Description       | Format                                     |
| -- | ----------------- | ------------------------------------------ |
| 11 | Client left       | \<Time\> 11 \<Client name\>                |
| 12 | Clent sat to desk | \<Time\> 1 \<Client name\> \<Desk number\> |
| 13 | Error             | \<Time\> 13 \<Error\>                      |

Program handles events and writes to console following data:<br>
```
<Opening time>
<All income and outcome events>
<Closing time>
```
Then, for each table:
`<Desk number> <Day profit> <Total time sat>`

## Running
You need to specify text file with events in argument

For example, `./club_handler input.txt`

## Tests
This program have some unit tests for ClockTime and ClubManager via Google Test<br>
CMake downloads and builds library automatically<br>
To run test, go to test folder in your build directory and run `./test_clocktime` or `./test_clubmanager`

## Examples
Here are some examples of input and output
<table>
  <tr>
    <td> input file </td>
    <td> console output </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      3<br>
      09:00 19:00<br>
      10<br>
      08:48 1 client1<br>
      09:41 1 client1<br>
      09:48 1 client2<br>
      09:52 3 client1<br>
      09:54 2 client1 1<br>
      10:25 2 client2 2<br>
      10:58 1 client3<br>
      10:59 2 client3 3<br>
      11:30 1 client4<br>
      11:35 2 client4 2<br>
      11:45 3 client4<br>
      12:33 4 client1<br>
      12:43 4 client2<br>
      15:52 4 client4
    </td>
    <td align="left" valign="top">
      09:00<br>
      08:48 1 client1<br>
      08:48 13 NotOpenYet<br>
      09:41 1 client1<br>
      09:48 1 client2<br>
      09:52 3 client1<br>
      09:52 13 ICanWaitNoLonger!<br>
      09:54 2 client1 1<br>
      10:25 2 client2 2<br>
      10:58 1 client3<br>
      10:59 2 client3 3<br>
      11:30 1 client4<br>
      11:35 2 client4 2<br>
      11:35 13 PlaseIsBusy<br>
      11:45 3 client4<br>
      12:33 4 client1<br>
      12:33 12 client4 1<br>
      12:43 4 client2<br>
      15:52 4 client4<br>
      19:00 11 client4<br>
      19:00 11 client3<br>
      19:00<br>
      1 70 05:58<br>
      2 30 02:18<br>
      3 90 08:01<br>
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      2<br>
      10:00 14:00<br>
      20<br>
      10:05 1 alice<br>
      10:06 2 alice 1<br>
      10:10 1 bob<br>
      10:11 2 bob 2<br>
      13:59 4 alice<br>
      13:59 4 bob
    </td>
    <td align="left" valign="top">
      10:00<br>
      10:05 1 alice<br>
      10:06 2 alice 1<br>
      10:10 1 bob<br>
      10:11 2 bob 2<br>
      13:59 4 alice<br>
      13:59 4 bob<br>
      14:00<br>
      1 80 03:53<br>
      2 80 03:48
    </td>
  </tr>
  <tr>
    <td align="left" valign="top">
      2<br>
      10:00 12:00
      25
      10:00 1 anna<br>
      10:01 1 bob<br>
      10:02 1 carl<br>
      10:03 2 anna 1<br>
      10:04 2 bob 2<br>
      10:05 3 carl<br>
      10:30 4 anna<br>
      11:00 4 bob
    </td>
    <td align="left" valign="top">
      10:00<br>
      10:00 1 anna<br>
      10:01 1 bob<br>
      10:02 1 carl<br>
      10:03 2 anna 1<br>
      10:04 2 bob 2<br>
      10:05 3 carl<br>
      10:30 4 anna<br>
      10:30 12 carl 1<br>
      11:00 4 bob<br>
      12:00 11 bob<br>
      12:00 11 carl<br>
      12:00<br>
      1 75 01:57<br>
      2 25 00:56
    </td>
  </tr>
</table>
